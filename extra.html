<!DOCTYPE html>
<html lang="en">
<head>

  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link id="pagestyle" rel="stylesheet" href="stile_extra.css" type="text/css">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="icon" href="images/LOGOLOD.png">
<title>LiteratureOverDeath</title>

<script>
  function magnify(imgID, zoom) {
    var img, glass, w, h, bw;
    img = document.getElementById(imgID);
    /*create magnifier glass:*/
    glass = document.createElement("DIV");
    glass.setAttribute("class", "img-magnifier-glass");
    /*insert magnifier glass:*/
    img.parentElement.insertBefore(glass, img);
    /*set background properties for the magnifier glass:*/
    glass.style.backgroundImage = "url('" + img.src + "')";
    glass.style.backgroundRepeat = "no-repeat";
    glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
    bw = 3;
    w = glass.offsetWidth / 2;
    h = glass.offsetHeight / 2;
    /*execute a function when someone moves the magnifier glass over the image:*/
    glass.addEventListener("mousemove", moveMagnifier);
    img.addEventListener("mousemove", moveMagnifier);
    /*and also for touch screens:*/
    glass.addEventListener("touchmove", moveMagnifier);
    img.addEventListener("touchmove", moveMagnifier);
    function moveMagnifier(e) {
      var pos, x, y;
      /*prevent any other actions that may occur when moving over the image*/
      e.preventDefault();
      /*get the cursor's x and y positions:*/
      pos = getCursorPos(e);
      x = pos.x;
      y = pos.y;
      /*prevent the magnifier glass from being positioned outside the image:*/
      if (x > img.width - (w / zoom)) {x = img.width - (w / zoom);}
      if (x < w / zoom) {x = w / zoom;}
      if (y > img.height - (h / zoom)) {y = img.height - (h / zoom);}
      if (y < h / zoom) {y = h / zoom;}
      /*set the position of the magnifier glass:*/
      glass.style.left = (x - w) + "px";
      glass.style.top = (y - h) + "px";
      /*display what the magnifier glass "sees":*/
      glass.style.backgroundPosition = "-" + ((x * zoom) - w + bw) + "px -" + ((y * zoom) - h + bw) + "px";
    }
    function getCursorPos(e) {
      var a, x = 0, y = 0;
      e = e || window.event;
      /*get the x and y positions of the image:*/
      a = img.getBoundingClientRect();
      /*calculate the cursor's x and y coordinates, relative to the image:*/
      x = e.pageX - a.left;
      y = e.pageY - a.top;
      /*consider any page scrolling:*/
      x = x - window.pageXOffset;
      y = y - window.pageYOffset;
      return {x : x, y : y};
    }
  }
  </script>
</head>


<body class="home">
    <nav class="navbar navbar-custom navbar-expand-md navbar-light justify-content-md-center justify-content-start fixed-top">
        <div class="container-fluid">
            <div class="navbar-header justify-align-center">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

            </div>


  <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">

    <ul class="navbar-nav nav justify-content-center">
      <li class="nav-item active">
        <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item dropdown">
        <a href="close_reading.html" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Close Reading
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="#">Biographical Analysis</a>
          <a class="dropdown-item" href="close_reading.html">Rethorical Analysis</a>
          <a class="dropdown-item" href="#">Critics Opinion</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a href="distant_reading.html" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Distant Reading
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="distant_reading.html#MFW">Most Frequent Words</a>
          <a class="dropdown-item" href="#">Sentiment Analysis</a>
          <a class="dropdown-item" href="#">Emotion Detection</a>
          <a class="dropdown-item" href="distant_reading.html#topic_modeling">Topic Modeling</a>
        </div>
      </li>

      <li class="nav-item active">
        <a class="nav-link" href="ontology.html">Ontology</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="extra.html">Extra</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="about.html">About</a>
      </li>
    </ul>
  </div>
</div>
</nav>

<div class="container_all">
  <h2 class="title_extra"><span class="first-letter">I</span>nteractive <span class="first-letter">E</span>xtra <span class="first-letter">T</span>ool</h2>
  <p class="description_extra">We would like to add a final possibility for the user to interact with ours subcorpora and deeply perceive the degree of semantic affinity between them. After a structural division of the texts and a grammatical and semantical tagging, the purpose is to allow an automatic recombination of literary extracts so to create a new coherent poem.</p>
  
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <div class="img-magnifier-container">
        <img id="myimage" src="mestiere_viz_1.png" width="600" height="400" alt="Girl">
      </div>
  
      <script>
        /* Initiate Magnify Function
        with the id of the image, and the strength of the magnifier glass:*/
        magnify("myimage", 3);
        </script>
    </div>
    <div class="col-md-3"></div>
  </div>
  
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6" style="background-color: black; width: 500px;">
      <pre><code class="python">
        
          import numpy as np
          import matplotlib.pyplot as plt
          import csv
          from nltk.tokenize import word_tokenize
          import pandas as pd
          from nltk.stem import SnowballStemmer
          from nltk.corpus import stopwords
          import re

          stemmer = SnowballStemmer('italian')
          stop_words = set(stopwords.words('italian'))
          df1 = pd.read_csv("csv1948.csv", sep=";")

          parole = list()

          for x in df1["raw_text"]:
              for j in word_tokenize(str(x)):
                  parole.append(j)

          parole2 = list()

          for e in parole:
              lowered = e.lower()
              parole2.append(lowered)

          filtered = []
          for h in parole2:
              if h not in stop_words:
                  h = re.sub("[^\w]+", "", h)
                  if h != "" and h:
                      filtered.append(h)
                      for i in filtered:
                          i = re.sub("[^\d]+", "", i)
                          if i != "":
                              filtered.remove(i)
                              for i in filtered:
                                  if len(i) <=3:
                                      filtered.remove(i)
          print(filtered)

          stemmed = list()
          for v in filtered:
              stemmato = stemmer.stem(v)
              stemmed.append(stemmato)

          from nltk.probability import FreqDist

          fdist = FreqDist(filtered) #ma possiamo anche usare stemmed
          mostcomm = fdist.most_common(15)
          print(mostcomm)

          word = list(zip(*mostcomm))[0]
          freq = list(zip(*mostcomm))[1]
          x_pos = np.arange(len(word))

          print(x_pos)

          plt.rcParams.update({'font.size': 12})
          # Sull'asse X avremo una barra con il valore della frequenza per ogni parola
          plt.bar(x_pos, freq,align='center')
          # L'asse X indicherà ad ogni barra la parola corrispondente in verticale (per risparmiare spazio)
          plt.xticks(x_pos, word, rotation='vertical')

          plt.ylabel('Frequency')
          plt.title('Word Frequency from 80 posts')
          plt.show()



      </code></pre>
      
    </div>
    <div class="col-md-3"></div>
</div>


</div>

<footer class="row text-center pagefoot">
    <div class="container-fluid row" id="footerdiv">

        <div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 col-12">

            <div class="container-flex" id="footercol1">
                <img src="images/LOGOLOD2.png" alt="LOD Logo" id="logo">
                <p class="crnotice">LiteratureOverDeath©2021</p>
            </div>

        </div>

        <div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 col-12">
            <div class="container-flex" id="footercol2">
                <h4 class="footersectionheader">Contacts</h4>
                <p class="footercoltext">
                    <a href="mailto:francesca.genovese2@studio.unibo.it">francesca.genovese2@studio.unibo.it</a><br>
                    <a href="mailto:giulia.manganelli3@studio.unibo.it">giulia.manganelli3@studio.unibo.it</a><br>
                    <a href="mailto:arianna.moretti2@studio.unibo.it">arianna.moretti2@studio.unibo.it</a>
                </p>
            </div>
        </div>

        <div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 col-12">
            <div class="container-flex" id="footercol3">
                <h4 class="footersectionheader">Affiliations</h4>
                <p class="footercoltext">Digital Humanities and Digital Knowledge - DHDK Second cycle degree; Classical Philology and Italian Studies - FICLIT Department; University of Bologna</p>
            </div>

        </div>

    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>